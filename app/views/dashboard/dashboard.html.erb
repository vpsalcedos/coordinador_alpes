<h1>Tablero de control</h1>

<div class="well" align="center" style="height: 400px;">



<p><b>Materias mas vistas por maestrias</b></p>




<script type="text/javascript" charset="utf-8">
  $(function () {
    new Highcharts.Chart({
        chart: {
	    renderTo: 'pieMATI',
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false
             },
        title: {
                text: 'MATI'
            },
            tooltip: {
        	    pointFormat: '<b>{point.y}</b> Estudiantes'
            },
            plotOptions: {
                pie: {
                    allowPointSelect: true,
                    cursor: 'pointer',
                    dataLabels: {
                        enabled: false
                    },
                    showInLegend: true
                }
            },
exporting: {        enabled: false        },
        series: [{
            type: 'pie',
            name: 'pieMATI',
            data: [
		['<%= @listaMATI[0] %>', <%= @listaMATI[1] %>],
                ['<%= @listaMATI[2] %>', <%= @listaMATI[3] %>],
                ['<%= @listaMATI[4] %>', <%= @listaMATI[5] %>],
                ['<%= @listaMATI[6] %>', <%= @listaMATI[7] %>],
                ['<%= @listaMATI[8] %>', <%= @listaMATI[9] %>],
		['<%= @listaMATI[10] %>', <%= @listaMATI[11] %>],
['<%= @listaMATI[12] %>', <%= @listaMATI[13] %>],
['<%= @listaMATI[14] %>', <%= @listaMATI[15] %>],
['<%= @listaMATI[16] %>', <%= @listaMATI[17] %>],
['<%= @listaMATI[18] %>', <%= @listaMATI[19] %>],
['<%= @listaMATI[20] %>', <%= @listaMATI[21] %>],

            ]
        }]
    });
});
</script>
<div id="pieMATI" style="width: 200px; height: 350px;position: relative;float: left;"></div>



<script type="text/javascript" charset="utf-8">
  $(function () {
    new Highcharts.Chart({
        chart: {
	    renderTo: 'pieMESI',
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false
        },
        title: {
                text: 'MESI'
            },
            tooltip: {
        	    pointFormat: '<b>{point.y}</b> Estudiantes'
            },
            plotOptions: {
                pie: {
                    allowPointSelect: true,
                    cursor: 'pointer',
                    dataLabels: {
                        enabled: false
                    },
                    showInLegend: true
                }
            },exporting: {        enabled: false        },
        series: [{
            type: 'pie',
            name: 'pieMESI',
            data: [
		['<%= @listaMESI[0] %>', <%= @listaMESI[1] %>],
                ['<%= @listaMESI[2] %>', <%= @listaMESI[3] %>],
                ['<%= @listaMESI[4] %>', <%= @listaMESI[5] %>],
                ['<%= @listaMESI[6] %>', <%= @listaMESI[7] %>],
                ['<%= @listaMESI[8] %>', <%= @listaMESI[9] %>],
		['<%= @listaMESI[10] %>', <%= @listaMESI[11] %>],
['<%= @listaMESI[12] %>', <%= @listaMESI[13] %>],
['<%= @listaMESI[14] %>', <%= @listaMESI[15] %>],
['<%= @listaMESI[16] %>', <%= @listaMESI[17] %>],

            ]
        }]
    });
});
</script>
<div id="pieMESI" style="width: 200px; height: 350px;position: relative;float: left;"></div>



<script type="text/javascript" charset="utf-8">
  $(function () {
    new Highcharts.Chart({
        chart: {
	    renderTo: 'pieMBIT',
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false
        },
        title: {
                text: 'MBIT'
            },
            tooltip: {
        	    pointFormat: '<b>{point.y}</b> Estudiantes'
            },
            plotOptions: {
                pie: {
                    allowPointSelect: true,
                    cursor: 'pointer',
                    dataLabels: {
                        enabled: false
                    },
                    showInLegend: true
                }
            },exporting: {        enabled: false        },
        series: [{
            type: 'pie',
            name: 'pieMBIT',
            data: [
		['<%= @listaMBIT[0] %>', <%= @listaMBIT[1] %>],
                ['<%= @listaMBIT[2] %>', <%= @listaMBIT[3] %>],
                ['<%= @listaMBIT[4] %>', <%= @listaMBIT[5] %>],
                ['<%= @listaMBIT[6] %>', <%= @listaMBIT[7] %>],
                ['<%= @listaMBIT[8] %>', <%= @listaMBIT[9] %>],
		['<%= @listaMBIT[10] %>', <%= @listaMBIT[11] %>],
            ]
            
        }]
    });
});
</script>
<div id="pieMBIT" style="width: 200px; height: 350px;position: relative;float: left;"></div>

<script type="text/javascript" charset="utf-8">
  $(function () {
    new Highcharts.Chart({
        chart: {
	    renderTo: 'pieMISO',
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false
        },
        title: {
                text: 'MISO'
            },
            tooltip: {
        	    pointFormat: '<b>{point.y}</b> Estudiantes'
            },
            plotOptions: {
                pie: {
                    allowPointSelect: true,
                    cursor: 'pointer',
                    dataLabels: {
                        enabled: false
                    },
                    showInLegend: true
                }
            },exporting: {        enabled: false        },
        series: [{
            type: 'pie',
            name: 'pieMISO',
            data: [
		['<%= @listaMISO[0] %>', <%= @listaMISO[1] %>],
                ['<%= @listaMISO[2] %>', <%= @listaMISO[3] %>],
                ['<%= @listaMISO[4] %>', <%= @listaMISO[5] %>],
                ['<%= @listaMISO[6] %>', <%= @listaMISO[7] %>],
                ['<%= @listaMISO[8] %>', <%= @listaMISO[9] %>],
		['<%= @listaMISO[10] %>', <%= @listaMISO[11] %>],
                
            ]
        }]
    });
});
</script>
<div id="pieMISO" style="width: 200px; height: 350px;position: relative;float: left;"></div>


<p>Promedio historial de inscritos en las materias<p>
</div>


<div style="height: 500px;">
<div class="well" align="center" style="width: 500px; height: 430px;position: relative;float: left;" >
<p><b>Total estudiantes por maestrias (Actual)</b></p>
<%
bar = LazyHighCharts::HighChart.new('column') do |f|
    f.series(:name=>'Último Semestre',:data=> [ @UMATI, @UMESI, @UMBIT, @UMISO ], :color=>"red")
    f.series(:name=>'Otros',:data=> [@OMATI, @OMESI, @OMBIT, @OMISO ])
    	
    f.title({ :text=>"Estadísticas estudiantes por maestria"})

    f.xAxis(:categories=> ["MATI", "MESI", "MBIT", "MISO" ])
    f.yAxis(:min=>0,:title=>{ :text=>"Número estudiantes"},:stackLabels=>{ :enabled=>true,:color=>"black"})

    f.options[:chart][:defaultSeriesType] = "column"

    f.plot_options(:series=>{:stacking=>"normal",:dataLabels=>{ :enabled=>true,:color=>"white"}}) 

    f.exporting( :enabled=> false )
   
  end
%>
<%= high_chart("Estadísticas", bar) %>

</div>
<div class="well" style="width: 250px; height: 160px;position: relative;float: right" >

<p><b>Total Materias</b> </p>
<p> - MESI : <%= @totalMateriasMESI  %></p>
<p> - MBIT : <%= @totalMateriasMBIT  %></p>
<p> - MISO : <%= @totalMateriasMISO  %></p>
<p> - MATI : <%= @totalMateriasMATI  %></p>
<p> - MISIS : <%= @totalMateriasMISIS  %></p>

</div>
<div class="well" style="width: 250px; height: 140px;position: relative;float: right" >

<p><b>Información adicional</b> </p>
<p> - Total estudiantes : <%= @totalEstudiantes %></p>
<p> - Total Estudiantes último semestre : 30</p>
<p> - Total Materias : <%= @totalMaterias %></p>


</div>
</div>

<div class="well" align="center" >
<script type="text/javascript" charset="utf-8">
  $(function () {
    new Highcharts.Chart({
	    chart: {  type: 'line' ,renderTo: 'estporcre'},
            title: {   text: 'Población estudiantes de Maestría en Sistemas según cŕeditos'      },
            xAxis: {  title: {   text: 'Créditos'   }, categories: ['4', '8', '12', '16', '20', '24', '28', '32', '36', '40']  },
            yAxis: {  title: {   text: 'Número estudiantes'   }  },
            tooltip: {
                enabled: true,
                formatter: function() {
                    return '<b>'+ this.series.name +'</b><br/>'+
                        this.x +' creditos - '+ this.y +' estudiantes';
                }
            },
            plotOptions: {
                line: {
                    dataLabels: {
                        enabled: true
                    },
                    enableMouseTracking: true
                }
            },exporting: {        enabled: false        },
            series: [{
                name: 'MATI',
                data: [18, 14, 9, 14, 18, 21, 25, 26, 23, 18]
            },{
                name: 'MESI',
                data: [21, 25, 26, 23, 18, 17, 16, 19, 14, 12]
            },{
                name: 'MBIT',
                data: [ 9, 14, 18, 17, 16,21,  23, 18,25, 26]
            },{
                name: 'MISO',
                data: [25, 26, 23, 17, 11, 10, 20, 18, 21, 11]
            },]
        });
    });
</script>
<div id="estporcre" style="width: 800px; height: 500px"></div>
</div>
<p>PD: La información del tablero de control es temporal y no resprestrenta información real</p>
<br>
